@init_state = [
  2, 5, 2, 3, 5, 3, 5, 5, 4, 2, 1, 5, 5, 5, 5, 1, 2, 5, 1, 1, 1, 1, 1, 5, 5, 1, 5, 4,
  3, 3, 1, 2, 4, 2, 4, 5, 4, 5, 5, 5, 4, 4, 1, 3, 5, 1, 2, 2, 4, 2, 1, 1, 2, 1, 1, 4,
  2, 1, 2, 1, 2, 1, 3, 3, 3, 5, 1, 1, 1, 3, 4, 4, 1, 3, 1, 5, 5, 1, 5, 3, 1, 5, 2, 2,
  2, 2, 1, 1, 1, 1, 3, 3, 3, 1, 4, 3, 5, 3, 5, 5, 1, 4, 4, 2, 5, 1, 5, 5, 4, 5, 5, 1,
  5, 4, 4, 1, 3, 4, 1, 2, 3, 2, 5, 1, 3, 1, 5, 5, 2, 2, 2, 1, 3, 3, 1, 1, 1, 4, 2, 5,
  1, 2, 4, 4, 2, 5, 1, 1, 3, 5, 4, 2, 1, 2, 5, 4, 1, 5, 5, 2, 4, 3, 5, 2, 4, 1, 4, 3,
  5, 5, 3, 1, 5, 1, 3, 5, 1, 1, 1, 4, 2, 4, 4, 1, 1, 1, 1, 1, 3, 4, 5, 2, 3, 4, 5, 1,
  4, 1, 2, 3, 4, 2, 1, 4, 4, 2, 1, 5, 3, 4, 1, 1, 2, 2, 1, 5, 5, 2, 5, 1, 4, 4, 2, 1,
  3, 1, 5, 5, 1, 4, 2, 2, 1, 1, 1, 5, 1, 3, 4, 1, 3, 3, 5, 3, 5, 5, 3, 1, 4, 4, 1, 1,
  1, 3, 3, 2, 3, 1, 1, 1, 5, 4, 2, 5, 3, 5, 4, 4, 5, 2, 3, 2, 5, 2, 1, 1, 1, 2, 1, 5,
  3, 5, 1, 4, 1, 2, 1, 5, 3, 5, 2, 1, 3, 1, 2, 4, 5, 3, 4, 3
]

@days = 0

def run
  # p @init_state
  # until @days == 256
  #   new_day = []
  #   @init_state.each do |timer|
  #     if timer == 0
  #       new_day << 6
  #       new_day << 8
  #     else
  #       new_day << timer - 1
  #     end
  #   end
  #   @days += 1
  #   @init_state = new_day
  #   p @days
  # end
  # p @init_state.count
  count = 256
  # ages = @init_state.split(',').map(&:to_i)
  tally = Array.new(count) { |i| @init_state.count(i) }

  count.times do
    created = tally.shift
    tally[8] = created
    tally[6] += created
  end

  p tally.sum
end

run
